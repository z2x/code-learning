<!DOCTYPE html>
<html lang="zh">

<head>
  <title></title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
  .container {
    width: 700px;
    margin: 0 auto;
  }

  .content li {
    list-style: none;
    float: left;
    padding: 5px;
  }

  .content img {
    width: 300px;
  }
  </style>
</head>

<body>
  <div class="container">
    <ul class="content">
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/1.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/2.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/3.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img id=a src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/4.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/5.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/6.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/7.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/8.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/9.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/10.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/11.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/12.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/13.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/14.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img id=b src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/15.jpg" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src="http://kejian.jirengu.com/data/fe/%E8%AF%BE%E4%BB%B6/32-%E6%87%92%E5%8A%A0%E8%BD%BD/code/blank.jpg"
            data-src="http://cdn.jirengu.com/book.jirengu.com/img/16.jpg" />
        </a>
      </li>
    </ul>
  </div>
  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
  <script>
  lazyRender();

  var clock;
  $(window).on('scroll', function() {
    if (clock) {
      clearTimeout(clock);
    }
    clock = setTimeout(function() {
      lazyRender();
    }, 300);
  });

  function lazyRender() {
    $('.content img').each(function() {
      var $this = $(this);
      if (checkShow($this) && !isLoaded($this)) {
        loadImg($this);
      }
    });
  }

  function checkShow($img) {
    var scrollTop = $(window).scrollTop();
    var windowHeight = $(window).height();
    var offsetTop = $img.offset().top;
    if (offsetTop < scrollTop + windowHeight && offsetTop > scrollTop) {
      return true;
    }
    return false;
  }

  function isLoaded($img) {
    return $img.attr('data-src') === $img.attr('src');
  }

  function loadImg($img) {
    $img.attr('src', $img.attr('data-src'));
  }
  </script>
</body>

</html>
