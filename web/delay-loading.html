<!DOCTYPE html>
<html lang="zh">

<head>
  <title></title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
  .container {
    width: 700px;
    margin: 0 auto;
  }

  .content li {
    list-style: none;
    float: left;
    padding: 5px;
  }

  .content img {
    width: 300px;
  }
  </style>
</head>

<body>
  <div class="container">
    <ul class="content">
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=1" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=2" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=3" />
        </a>
      </li>
      <li>
        <a href="#">
          <img id=a src=""
            data-src="http://fakeimg.pl/350x200/?text=4" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=5" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=6" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=7" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=8" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=9" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=10" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=11" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=12" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=13" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=14" />
        </a>
      </li>
      <li>
        <a href="#">
          <img id=b src=""
            data-src="http://fakeimg.pl/350x200/?text=15" />
        </a>
      </li>
      <li>
        <a href="#">
          <img src=""
            data-src="http://fakeimg.pl/350x200/?text=16" />
        </a>
      </li>
    </ul>
  </div>
  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
  <script>
  lazyRender();

  var clock;
  $(window).on('scroll', function() {
    if (clock) {
      clearTimeout(clock);
    }
    clock = setTimeout(function() {
      lazyRender();
    }, 300);
  });

  function lazyRender() {
    $('.content img').each(function() {
      var $this = $(this);
      if (checkShow($this) && !isLoaded($this)) {
        loadImg($this);
      }
    });
  }

  function checkShow($img) {
    var scrollTop = $(window).scrollTop();
    var windowHeight = $(window).height();
    var offsetTop = $img.offset().top;
    if (offsetTop < scrollTop + windowHeight && offsetTop > scrollTop) {
      return true;
    }
    return false;
  }

  function isLoaded($img) {
    return $img.attr('data-src') === $img.attr('src');
  }

  function loadImg($img) {
    $img.attr('src', $img.attr('data-src'));
  }
  </script>
</body>

</html>
